<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KATTI-MOMOS - Authentic Nepali Dumplings</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #f5f7fa 0%, #ffe8df 100%);
        }
        .momo-card {
            transition: all 0.3s ease;
        }
        .momo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .status-pending {
            background-color: #FEF3C7;
            color: #92400E;
        }
        .status-ready {
            background-color: #D1FAE5;
            color: #065F46;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="app" class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="flex justify-between items-center mb-8">
            <div class="flex items-center">
                <div class="w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center mr-4">
                    <img src="45images/kumar.jpg" alt="KATTI" />
                </div>
                <h1 class="text-3xl font-bold text-rose-600">KATTI-MOMOS</h1>
            </div>
            <div id="auth-section">
                <!-- Will be filled by JavaScript -->
            </div>
        </header>

        <!-- Main Content Area -->
        <main>
            <div id="customer-view" class="hidden">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">Our Menu</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <!-- Momo Item 1 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://blog.swiggy.com/wp-content/uploads/2025/01/Image-1_-tandoori-momos-1024x538.png" alt="A fusion innovation that combines the essence of Indian tandoori flavors with the traditional momo, Tandoori Momos are marinated in spicy yogurt-based masala and roasted in a clay oven" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Tandoori Momos</h3>
                            <p class="text-gray-600 mb-4">A fusion innovation that combines the essence of Indian tandoori flavors with the traditional momo,</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹120</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="1" data-name="Tandoori Momos" data-price="120">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Momo Item 2 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://blog.swiggy.com/wp-content/uploads/2025/01/Image-2_-jhol-momos-1024x538.png" alt="Fried vegetarian momo with colorful vegetables and chili sauce" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Jhol Momos</h3>
                            <p class="text-gray-600 mb-4">A staple in Nepalese cuisine, Jhol Momos are served in a flavorful, soupy broth known as “jhol.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹100</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="2" data-name="Jhol Momos" data-price="100">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Momo Item 3 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://blog.swiggy.com/wp-content/uploads/2025/01/Image-3_-fried-momos-1024x538.png" alt="Spicy buff momo with garlic sauce on the side" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Fried Momos</h3>
                            <p class="text-gray-600 mb-4">For those who love a crispy crunch, Fried Momos are the perfect choice.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹150</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="3" data-name="Fried Momos" data-price="150">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                 <!-- Momo Item 4 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://blog.swiggy.com/wp-content/uploads/2025/01/Image-4_-paneer-momos-1024x538.png" alt="A vegetarian delight, Paneer Momos feature a filling made with crumbled paneer " class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Paneer Momos</h3>
                            <p class="text-gray-600 mb-4">Juicy chicken filling with our secret spice blend</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹120</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="4" data-name="Paneer Momos" data-price="120">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Momo Item 5 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1feaf999-4ee5-461c-9dc1-2f8472bfb9c9.png" alt="Fried vegetarian momo with colorful vegetables and chili sauce" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Fried Veg Momo</h3>
                            <p class="text-gray-600 mb-4">Crispy outside with fresh vegetable stuffing</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹100</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="5" data-name="Fried Veg Momo" data-price="100">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Momo Item 6 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://blog.swiggy.com/wp-content/uploads/2025/01/Image-6_-chocolate-momos-1024x538.png" alt="A unique twist on the traditional dumpling, Chocolate Momos are a sweet treat that’s perfect for dessert lovers" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Chocolate Momos</h3>
                            <p class="text-gray-600 mb-4">A unique twist on the traditional dumpling, Chocolate Momos are a sweet treat that’s perfect for dessert lovers</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹150</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="6" data-name="Chocolate Momos" data-price="150">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <!-- Momo Item 7 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/693b4d8b-b8d4-412e-bfc6-f51e6b450eab.png" alt="Steamed chicken momo dumplings with sesame seeds and spicy sauce" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Steamed Chicken Momo</h3>
                            <p class="text-gray-600 mb-4">Juicy chicken filling with our secret spice blend</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹120</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="7" data-name="Steamed Chicken Momo" data-price="120">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Momo Item 8 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://blog.swiggy.com/wp-content/uploads/2025/01/Image-8_-kurkure-momos-1024x538.png" alt="Fried vegetarian momo with colorful vegetables and chili sauce" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Kurkure Momos</h3>
                            <p class="text-gray-600 mb-4">A crunchy and innovative creation, Kurkure Momos are coated in crushed chips or breadcrumbs</p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹100</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="8" data-name="Kurkure Momos" data-price="100">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Momo Item 9 -->
                    <div class="momo-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="h-48 bg-gray-100 relative">
                            <img src="https://blog.swiggy.com/wp-content/uploads/2025/01/Image-7_-cheese-momos-1024x538.png" alt="Spicy buff momo with garlic sauce on the side" class="w-full h-full object-cover" />
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-xl mb-2">Cheese Momos</h3>
                            <p class="text-gray-600 mb-4">For cheese enthusiasts, Cheese Momos are a dream come true. </p>
                            <div class="flex justify-between items-center">
                                <span class="text-xl font-bold text-rose-600">₹150</span>
                                <button class="add-to-cart-btn px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition" data-id="9" data-name="Cheese Momos" data-price="150">
                                    Add to Order
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

    
                <div class="bg-white rounded-xl shadow-md p-6" id="order-section" style="display: none;">
                    <h3 class="text-xl font-semibold mb-4">Your Order</h3>
                    <div id="cart-items" class="mb-4">
                        <!-- Cart items will be added here -->
                    </div>
                    <div class="flex justify-between items-center border-t pt-4">
                        <span class="font-bold">Total:</span>
                        <span id="cart-total" class="font-bold text-rose-600">₹0</span>
                    </div>
                    <div class="mt-4">
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="customer-phone" required class="w-full px-4 py-2 border rounded-lg mb-3 focus:ring-rose-500 focus:border-rose-500" placeholder="Enter your phone number">
                    </div>
                    <button id="place-order-btn" class="w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                        Proceed to Pay (₹<span id="order-total">0</span>)
                    </button>
                </div>
            </div>

            <div id="admin-view" class="hidden">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-semibold text-gray-800">Admin Dashboard</h2>
                    <button id="logout-btn" class="px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition">
                        Logout
                    </button>
                </div>

                <div id="orders-container" class="space-y-4">
                    <!-- Orders will be listed here -->
                </div>
            </div>

            <div id="login-view" class="max-w-md mx-auto bg-white rounded-xl shadow-md p-8">
                <h2 class="text-2xl font-semibold text-center text-gray-800 mb-6">Admin Login</h2>
                <form id="login-form" class="space-y-4">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                        <input type="text" id="username" name="username" required class="w-full px-4 py-2 border rounded-lg focus:ring-rose-500 focus:border-rose-500">
                    </div>
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                        <input type="password" id="password" name="password" required class="w-full px-4 py-2 border rounded-lg focus:ring-rose-500 focus:border-rose-500">
                    </div>
                    <button type="submit" class="w-full py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition">
                        Login
                    </button>
                </form>
                <p class="text-center mt-4 text-gray-600">For customers, <button id="go-to-customer-btn" class="text-rose-500 hover:underline">click here</button> to view menu.</p>
            </div>
        </main>
    </div>

    <script>
        // Initialize data structure if not exists
        if (!localStorage.getItem('momoOrders')) {
            localStorage.setItem('momoOrders', JSON.stringify([]));
        }

        // DOM Elements
        const authSection = document.getElementById('auth-section');
        const customerView = document.getElementById('customer-view');
        const adminView = document.getElementById('admin-view');
        const loginView = document.getElementById('login-view');
        const loginForm = document.getElementById('login-form');
        const goToCustomerBtn = document.getElementById('go-to-customer-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const addToCartBtns = document.querySelectorAll('.add-to-cart-btn');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotalElement = document.getElementById('cart-total');
        const orderTotalElement = document.getElementById('order-total');
        const placeOrderBtn = document.getElementById('place-order-btn');
        const orderSection = document.getElementById('order-section');
        const ordersContainer = document.getElementById('orders-container');

        // State management
        let cart = [];
        let isAdmin = false;

        // Utility functions
        function generateOrderId() {
            return 'MM-' + Date.now().toString().slice(-6) + Math.floor(Math.random() * 100).toString().padStart(2, '0');
        }

        function formatCurrency(amount) {
            return '₹' + amount.toLocaleString('en-IN');
        }

        // Show view functions
        function showCustomerView() {
            customerView.classList.remove('hidden');
            adminView.classList.add('hidden');
            loginView.classList.add('hidden');
        }

        function showAdminView() {
            customerView.classList.add('hidden');
            adminView.classList.remove('hidden');
            loginView.classList.add('hidden');
            renderOrders();
        }

        function showLoginView() {
            customerView.classList.add('hidden');
            adminView.classList.add('hidden');
            loginView.classList.remove('hidden');
        }

        // Cart functions
        function addToCart(id, name, price) {
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id,
                    name,
                    price,
                    quantity: 1
                });
            }

            updateCart();
            updateOrderSection();
        }

        function updateCart() {
            // Save to localStorage for persistence
            localStorage.setItem('momoCart', JSON.stringify(cart));
            
            // Update UI
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                orderSection.style.display = 'none';
                return;
            }

            let total = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                const itemElement = document.createElement('div');
                itemElement.className = 'flex justify-between items-center py-2 border-b';
                itemElement.innerHTML = `
                    <div>
                        <h4 class="font-medium">${item.name}</h4>
                        <p class="text-sm text-gray-500">${formatCurrency(item.price)} × ${item.quantity}</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="font-medium">${formatCurrency(itemTotal)}</span>
                        <button class="remove-item-btn px-2 py-1 text-sm bg-gray-100 rounded" data-id="${item.id}">
                            Remove
                        </button>
                    </div>
                `;
                cartItemsContainer.appendChild(itemElement);
            });

            cartTotalElement.textContent = formatCurrency(total);
            orderTotalElement.textContent = total;
        }

        function updateOrderSection() {
            orderSection.style.display = cart.length > 0 ? 'block' : 'none';
        }

        // Order functions
        function placeOrder() {
            if (cart.length === 0) return;

            const orderId = generateOrderId();
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const timestamp = new Date().toISOString();

            const phone = document.getElementById('customer-phone').value;
            
            const order = {
                id: orderId,
                phone,
                items: [...cart],
                total,
                status: 'Pending',
                timestamp
            };

            // Get existing orders
            const orders = JSON.parse(localStorage.getItem('momoOrders'));
            orders.push(order);
            localStorage.setItem('momoOrders', JSON.stringify(orders));

            // Clear cart
            cart = [];
            localStorage.removeItem('momoCart');
            updateCart();
            updateOrderSection();

            // Show payment modal
            document.body.insertAdjacentHTML('beforeend', `
                <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                    <div class="bg-white rounded-xl p-6 max-w-md w-full">
                        <h3 class="text-xl font-semibold mb-4">Complete Payment</h3>
                        <p class="mb-2">Order ID: ${orderId}</p>
                        <p class="mb-4">Total: ${formatCurrency(total)}</p>
                        
                        <div class="flex justify-center mb-4">
                            <img src="45images/qr-payment.png" alt="Payment QR Code" class="border rounded-lg p-2">
                        </div>
                        
                        <button id="confirm-payment-btn" class="w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
                            Confirm Payment
                        </button>
                    </div>
                </div>
            `);
            
            document.getElementById('confirm-payment-btn').addEventListener('click', function() {
                alert(`Order ${orderId} confirmed! We'll send updates to ${phone}`);
                document.getElementById('payment-modal').remove();
            });
        }

        // Admin functions
        function renderOrders() {
            const orders = JSON.parse(localStorage.getItem('momoOrders'));
            
            if (!orders || orders.length === 0) {
                ordersContainer.innerHTML = '<p class="text-center text-gray-500">No orders yet.</p>';
                return;
            }

            ordersContainer.innerHTML = '';

            orders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = 'bg-white rounded-xl shadow-md p-6';
                
                const date = new Date(order.timestamp);
                const formattedDate = date.toLocaleString('en-IN');
                
                orderElement.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="font-bold text-lg">Order #${order.id}</h3>
                            <p class="text-sm text-gray-500">${formattedDate}</p>
                        </div>
                        <span class="status-${order.status.toLowerCase()} px-3 py-1 rounded-full text-sm font-medium">
                            ${order.status}
                        </span>
                    </div>
                    
                    <div class="mb-2">
                        <p class="text-sm"><strong>Phone:</strong> ${order.phone}</p>
                    </div>
                    <div class="space-y-2 mb-4">
                        ${order.items.map(item => `
                            <div class="flex justify-between">
                                <span>${item.name} × ${item.quantity}</span>
                                <span>${formatCurrency(item.price * item.quantity)}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="flex justify-between items-center border-t pt-4">
                        <span class="font-bold">Total:</span>
                        <span class="font-bold text-rose-600">${formatCurrency(order.total)}</span>
                    </div>
                    
                    ${order.status === 'Pending' ? `
                        <button class="w-full mt-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition mark-ready-btn" data-id="${order.id}">
                            Mark as Ready
                        </button>
                    ` : ''}
                `;
                
                ordersContainer.appendChild(orderElement);
            });

            // Add event listeners to mark as ready buttons
            document.querySelectorAll('.mark-ready-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const orderId = this.getAttribute('data-id');
                    const orders = JSON.parse(localStorage.getItem('momoOrders'));
                    const order = orders.find(o => o.id === orderId);
                    
                    if (order) {
                        order.status = 'Ready';
                        localStorage.setItem('momoOrders', JSON.stringify(orders));
                        renderOrders();
                    }
                });
            });
        }

        // Event Listeners
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Simple auth (in real app, use proper authentication)
            if (username === 'katti' && password === 'sanjay123') {
                iskatti = true;
                showAdminView();
                
                // Update auth section
                authSection.innerHTML = `
                    <button id="switch-to-admin-btn" class="px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition">
                        Admin Dashboard
                    </button>
                `;
            } else {
                alert('Invalid credentials');
            }
        });

        goToCustomerBtn.addEventListener('click', function() {
            showCustomerView();
        });

        if (logoutBtn) {
            logoutBtn.addEventListener('click', function() {
                isAdmin = false;
                showLoginView();
                
                // Update auth section
                authSection.innerHTML = '';
            });
        }

        addToCartBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                const name = this.getAttribute('data-name');
                const price = parseInt(this.getAttribute('data-price'));
                
                addToCart(id, name, price);
            });
        });

        document.addEventListener('click', function(e) {
            // Handle remove item from cart
            if (e.target.classList.contains('remove-item-btn')) {
                const id = e.target.getAttribute('data-id');
                cart = cart.filter(item => item.id !== id);
                updateCart();
                updateOrderSection();
            }
        });

        placeOrderBtn.addEventListener('click', placeOrder);

        // Check if we have a cart in localStorage
        const savedCart = localStorage.getItem('momoCart');
        if (savedCart) {
            cart = JSON.parse(savedCart);
            updateCart();
            updateOrderSection();
        }

        // Initial view setup
        showCustomerView();
        
        // Add auth button if not logged in
        authSection.innerHTML = `
            <button id="switch-to-admin-btn" class="px-4 py-2 border border-rose-500 text-rose-500 rounded-lg hover:bg-rose-50 transition">
                Admin Login
            </button>
        `;

        document.getElementById('switch-to-admin-btn').addEventListener('click', showLoginView);
    </script>
</body>
</html>
